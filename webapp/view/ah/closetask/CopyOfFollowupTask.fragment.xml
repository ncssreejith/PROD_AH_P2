<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:l="sap.ui.layout" xmlns:cc="avmet.ah.control">
	<VBox backgroundDesign="Transparent" class="sapUiSmallMargin" items="{path:'TaskModel>/',templateShareable: false}">
		<items>
			<l:Splitter height="auto">
				<VBox height="8rem" backgroundDesign="Solid">
					<l:Grid hSpacing="1" class="sapUiSmallMarginTop" defaultSpan="XL12 L12 M12 S12">
						<l:content>
							<VBox >
								<Label design="Bold" text="Task"/>
								<layoutData>
									<l:GridData linebreak="false" span="XL3 L3 M3 S12"/>
								</layoutData>
							</VBox>
							<VBox>
								<Text text="{oViewModel>/Task}"/>
								<layoutData>
									<l:GridData linebreak="true" span="XL12 L12 M12 S12"/>
								</layoutData>
							</VBox>
						</l:content>
					</l:Grid>
					<layoutData >
						<l:SplitterLayoutData size="250px" resizable="false"/>
					</layoutData>
				</VBox>
				<VBox>
					<l:Splitter height="auto">
						<VBox height="12rem" backgroundDesign="Solid">
							<l:Grid hSpacing="1" class="sapUiSmallMarginTop" defaultSpan="XL3 L3 M3 S12">
								<l:content>
									<VBox >
										<Label design="Bold" text="Date"/>
										<DatePicker fieldGroupIds="fgDate" displayFormat="dd.MM.YYY" required="{oViewModel>/singelSelect}" width="10rem"
											value="{oViewModel>createdData}" valueStateText="{i18n>MSG_DATE}"/>
										<layoutData>
											<l:GridData linebreak="false" span="XL3 L3 M3 S12"/>
										</layoutData>
									</VBox>
									<VBox>
										<Label design="Bold" text="Time"/>
										<TimePicker width="10rem" fieldGroupIds="fgTime" required="{oViewModel>/singelSelect}" displayFormat="HH:mm"
											valueStateText="{i18n>MSG_TIME}" value="{oViewModel>createdTime}"/>
										<layoutData>
											<l:GridData linebreak="true" span="XL3 L3 M3 S12"/>
										</layoutData>
									</VBox>
								</l:content>
							</l:Grid>
							<layoutData >
								<l:SplitterLayoutData size="250px" resizable="true"/>
							</layoutData>
						</VBox>
						<VBox backgroundDesign="Solid">
							<l:Grid hSpacing="1" class="sapUiSmallMarginTop" defaultSpan="XL12 L12 M12 S12">
								<l:content>
									<VBox>
										<VBox>
											<Label text="Follow-Up Task" design="Bold"></Label>
											<Input fieldGroupIds="fgInput" required="{oViewModel>/singelSelect}" value="{oViewModel>FollowUpTask}"></Input>
											<layoutData>
												<l:GridData span="XL12 L12 M12 S12" linebreak="true"/>
											</layoutData>
										</VBox>
										<HBox class="sapUiTinyMarginTopBottom" visible="{parts:['TaskModel>tt1id','TaskModel>tt2id'],templateShareable: false,formatter:'.formatter.taskContentVisible'}">
											<VBox class="sapUiMediumMarginEnd">
												<HBox>
													<Label design="Bold" text="Type"/>
													<core:Icon src="sap-icon://sys-help-2" class="sapUiTinyMarginBegin" size="12px" color="#031E48"/>
												</HBox>
												<HBox>
													<ComboBox width="140px" change="onTypeChange" selectedKey="{oCreateTaskModel>/sType1}" fieldGroupIds="fgCmbBox"
														required="{oCreateTaskModel>/bType}" items="{path:'TT1Model>/',templateShareable: false}">
														<core:Item text="{TT1Model>key}" key="{TT1Model>text}"/>
													</ComboBox>
													<Input width="160px" value="{oCreateTaskModel>/sType1Value}" class="sapUiSmallMarginBegin" fieldGroupIds="fgInput"
														required="{oCreateTaskModel>/bType}"/>
												</HBox>
											</VBox>
											<VBox class="sapUiTinyMarginBegin">
												<HBox>
													<Label design="Bold" text="Type"/>
													<core:Icon src="sap-icon://sys-help-2" class="sapUiTinyMarginBegin" size="12px" color="#031E48"/>
												</HBox>
												<HBox>
													<ComboBox width="140px" change="onTypeChange" selectedKey="{oCreateTaskModel>/sType2}" fieldGroupIds="fgCmbBox"
														required="{oCreateTaskModel>/bType}" items="{path:'TT2Model>/',templateShareable: false}">
														<core:Item text="{TT2Model>key}" key="{TT2Model>text}"/>
													</ComboBox>
													<Input width="160px" value="{oCreateTaskModel>/sType2Value}" class="sapUiSmallMarginBegin" fieldGroupIds="fgInput"
														required="{oCreateTaskModel>/bType}"/>
												</HBox>
											</VBox>
											<layoutData>
												<l:GridData span="XL4 L4 M6 S12" linebreak="true"/>
											</layoutData>
										</HBox>
										<VBox visible="{parts:['TaskModel>tt1id'],templateShareable: false,formatter:'.formatter.taskContentVisible1'}">
											<Label text="Describe Task" design="Bold"></Label>
											<TextArea maxLength="100" value="{oCreateTaskModel>/sOpsDesc}" showExceededText="true" width="100%" rows="5" fieldGroupIds="fgTxtArea"
												required="{oCreateTaskModel>/bOpsCheck}" liveChange="handleLiveChangeFlyingRequirements"/>
											<layoutData>
												<l:GridData span="XL4 L4 M6 S12" linebreak="true"/>
											</layoutData>
										</VBox>
										<VBox visible="{parts:['TaskModel>tt1id','TaskModel>tt2id'],templateShareable: false,formatter:'.formatter.taskContentVisible2'}">
											<Label text="Findings" design="Bold"></Label>
											<TextArea maxLength="100" value="{oCreateTaskModel>/sOpsDesc}" showExceededText="true" width="100%" rows="5" fieldGroupIds="fgTxtArea"
												required="{oCreateTaskModel>/bOpsCheck}" liveChange="handleLiveChangeFlyingRequirements"/>
											<layoutData>
												<l:GridData span="XL4 L4 M6 S12" linebreak="true"/>
											</layoutData>
										</VBox>
										<VBox visible="{parts:['TaskModel>tt1id','TaskModel>tt2id'],templateShareable: false,formatter:'.formatter.taskContentVisible3'}">
											<Label text="{i18n>lblTechRef}" design="Bold"></Label>
											<Input fieldGroupIds="fgInput" width="50%" required="{oViewModel>/singelSelect}" value="{oViewModel>TechicalReference}"></Input>
											<layoutData>
												<l:GridData span="XL4 L4 M6 S6" linebreak="true"/>
											</layoutData>
										</VBox>
										<VBox visible="{parts:['TaskModel>tt1id','TaskModel>tt2id'],templateShareable: false,formatter:'.formatter.taskContentVisible4'}">
											<HBox class="sapUiSmallMarginBottom" alignItems="Center">
												<VBox>
													<Label design="Bold" text="But not later than" width="350px"/>
													<SegmentedButton selectedKey="{oViewGlobalModel>/OPPR}" selectionChange="onReasonTypeChange" fieldGroupIds="fgSGBtn">
														<items>
															<SegmentedButtonItem text="Date" key="D" width="50%"/>
															<SegmentedButtonItem text="Utilisation" key="U" width="50%"/>
															<SegmentedButtonItem text="Both" key="B" width="50%"/>
															<SegmentedButtonItem text="" key="N" visible="false"/>
														</items>
													</SegmentedButton>
												</VBox>
											</HBox>
											<HBox class="sapUiSmallMarginBottom" visible="{oViewModel>/bDateSection}">
												<VBox>
													<Label design="Bold" text="Expiry Date" width="150px"/>
													<DatePicker
														value="{path: 'oViewGlobalModel>/EXPDT', templateShareable: false, type: 'sap.ui.model.type.Date', formatOptions: {strictParsing: true , UTC: true, pattern:'dd/MM/yyyy'}}"
														width="200px" fieldGroupIds="fgDate" required="{oViewModel>/bDateSection}"/>
												</VBox>
												<VBox class="sapUiSmallMarginBegin">
													<Label design="Bold" text="Time" width="150px"/>
													<TimePicker width="200px" value="{oViewGlobalModel>/EXPTM}" valueFormat="HH:mm" displayFormat="HH:mm" fieldGroupIds="fgTime"
														required="{oViewModel>/bDateSection}"/>
												</VBox>
											</HBox>
											<HBox class="sapUiSmallMarginBottom" visible="{oViewModel>/bUtilisationSection}">
												<VBox>
													<Label design="Bold" text="Utilisation" width="150px"/>
													<ComboBox width="200px" items="{path:'UtilizationCBModel>/',templateShareable: false}" selectedKey="{oViewGlobalModel>/UTIL1}" change="onUilisationChange"
														fieldGroupIds="fgCmbBox" required="{oViewModel>/bUtilisationSection}">
														<core:Item text="{UtilizationCBModel>description}" key="{UtilizationCBModel>ddid}"/>
													</ComboBox>
												</VBox>
												<VBox class="sapUiSmallMarginBegin">
													<Label/>
													<StepInput width="200px" value="{oViewGlobalModel>/UTILVL}" visible="{oViewModel>/bAirFrameAndTAC}" required="{oViewModel>/bAirFrameAndTAC}"/>
												</VBox>
											</HBox>
											<HBox class="sapUiSmallMarginBottom" visible="{oViewModel>/bLimitationSection}">
												<VBox>
													<HBox visible="{oViewModel>/bLimitation}">
														<Label design="Bold" text="Limitation"/>
														<core:Icon src="sap-icon://sys-help-2" size="12px" class="sapUiTinyMarginBegin" color="#031E48"/>
													</HBox>
													<TextArea width="420px" value="{oViewGlobalModel>/LDESC}" visible="{oViewModel>/bLimitation}" maxLength="100" showExceededText="true"
														fieldGroupIds="fgTxtArea" required="{oViewModel>/bLimitation}" liveChange="handleLiveChangeFlyingRequirements"/>
													<Button icon="sap-icon://sys-add" text="Add Limitation" width="400px" class="sapUiTinyMarginTop addLimitationBtn addTemBtn"
														press="onAddLimitaionPress" visible="{oViewModel>/bAddLimitationBtn}" iconFirst="true"/>
													<Button icon="sap-icon://sys-minus" text="Remove Limitation" width="400px" class="sapUiTinyMarginTop removeLimitationBtn"
														press="onRemoveLimitaionPress" visible="{oViewModel>/bLimitation}"/>
												</VBox>
											</HBox>
										</VBox>
										<layoutData>
											<l:GridData linebreak="false" span="XL12 L12 M12 S12"/>
										</layoutData>
									</VBox>
								</l:content>
							</l:Grid>
							<layoutData>
								<l:SplitterLayoutData size="auto"/>
							</layoutData>
						</VBox>
					</l:Splitter>
					<layoutData>
						<l:SplitterLayoutData size="auto"/>
					</layoutData>
				</VBox>
			</l:Splitter>
		</items>
	</VBox>
</core:FragmentDefinition>